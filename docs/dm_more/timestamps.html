<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
     <meta http-equiv="content-type" content="text/html; charset=utf-8" />
     <title>DataMapper - DM-Timestamps</title>
     <link rel="stylesheet" href="/datamapper-docs/css/site.css" type="text/css" media="screen, projection" />
     <link rel="stylesheet" href="/datamapper-docs/css/code.css" type="text/css" media="screen, projection" />
     <!--[if lt IE 7]> <link rel="stylesheet" href="/datamapper-docs/css/ie_hacks.css" type="text/css" media="screen, projection" /> <![endif]-->
     <link rel="Shortcut Icon" type="image/x-icon" href="/datamapper-docs/favicon.ico" />
  </head>

  <body id="home">

  <div style="width:100%;background:#d1ecf1;padding:15px;color:#0c5460;text-align:center;font-weight:bold;margin-bottom:20px;">
    This is a clone of the datamapper docs. Datamapper.org was taken down and redirected around Feb, 2020. I claim no ownership of any of this stuff.
  </div>

    <div id="content">

      <div id="header">
                <h1><a href="/datamapper-docs/">DataMapper</a></h1>

        <ul>
          <li><a href="/datamapper-docs/docs">Documentation</a></li>
          <li><a href="https://github.com/datamapper/dm-core/wiki">Wiki</a></li>
          <li><a href="/datamapper-docs/getting-started.html" id="getStarted">Get Started</a></li>
        </ul>

      </div>

   <h1 id="dm-timestamps">DM-Timestamps</h1>

<p>DM-Timestamps provides automatic updates of <code class="highlighter-rouge">created_at</code> or <code class="highlighter-rouge">created_on</code> and
<code class="highlighter-rouge">updated_at</code> or <code class="highlighter-rouge">updated_on</code> properties for your resources. To use it, simply
<code class="highlighter-rouge">require 'dm-timestamps'</code> and assign one or all of these properties to your
Resource.</p>

<p>Here’s some basic usage.</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="code"><pre><span class="nb">require</span> <span class="s1">'rubygems'</span>
<span class="nb">require</span> <span class="s1">'dm-core'</span>
<span class="nb">require</span> <span class="s1">'dm-timestamps'</span>

<span class="no">DataMapper</span><span class="p">.</span><span class="nf">setup</span><span class="p">(</span><span class="ss">:default</span><span class="p">,</span> <span class="s1">'sqlite3::memory:'</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Post</span>
  <span class="kp">include</span> <span class="no">DataMapper</span><span class="o">::</span><span class="no">Resource</span>

  <span class="n">property</span> <span class="ss">:id</span><span class="p">,</span>         <span class="no">Serial</span>
  <span class="n">property</span> <span class="ss">:title</span><span class="p">,</span>      <span class="no">String</span><span class="p">,</span>   <span class="ss">:length</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="o">..</span><span class="mi">255</span>
  <span class="n">property</span> <span class="ss">:created_at</span><span class="p">,</span> <span class="no">DateTime</span>
  <span class="n">property</span> <span class="ss">:created_on</span><span class="p">,</span> <span class="no">Date</span>
  <span class="n">property</span> <span class="ss">:updated_at</span><span class="p">,</span> <span class="no">DateTime</span>
  <span class="n">property</span> <span class="ss">:updated_on</span><span class="p">,</span> <span class="no">Date</span>
<span class="k">end</span>
</pre></td></tr></tbody></table></code></pre></figure>

<p>If you’re familiar with the ‘magic’ properties from ActiveRecord, this is very
similar. When your model is initially saved, DM-Timestamps will update that
object’s <code class="highlighter-rouge">created_at</code> and/or <code class="highlighter-rouge">created_on</code> fields with the time of creation. When
the object is edited and then saved out to the data-store, DM-Timestamps will
update the <code class="highlighter-rouge">updated_at</code> and <code class="highlighter-rouge">updated_on</code> fields with the time of update.</p>


            <div id="footer">
        <p>Copyright Sam Smoot 2007, 2008</p>
        <p>Copyright Dan Kubb 2009-2012</p>
        <p>Web Design by <a href="http://www.mr-eel.com/">Luke Matthew Sutton</a> - Community Maintained</p>
      </div>

    </div>
  </body>
</html>
